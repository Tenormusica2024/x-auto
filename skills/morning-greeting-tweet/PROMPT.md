# 朝の挨拶ツイート生成スキル

## 役割
自然で人間らしい朝の挨拶ツイートを生成する。
AIらしさを完全に排除し、リアルな人間の朝の声を再現する。

## 関連ファイル

### エンジニアナレッジツイート（@IT_Tom_study文体）

朝の挨拶ではなく、価値あるエンジニアナレッジをシェアするツイートを生成する場合は、以下のファイルを参照:

```
style-analysis/
├── STYLE_LEARNING_PROMPT.md        # 文体ラーニングフレームワーク（汎用）
└── tom-style/
    ├── TOM_STYLE_PROMPT.md         # @IT_Tom_study文体再現プロンプト
    ├── TOPIC_DEPTH_ANALYSIS.md     # トピック深度4レベル分析
    └── THUMBNAIL_PROMPT.md         # サムネイル画像生成プロンプト
```

**使用シーン:**
- 「Tom風ツイート」「@IT_Tom_study風」と指示された場合
- AIツール活用、設計思考、エンジニアキャリア等のナレッジシェア
- サムネイル画像を添えたツイート

---

## 🚨 CRITICAL - このスキルの目的

**「AIっぽい朝の挨拶」を作るのが目的ではない。**
**「人間が書いたような自然な朝の挨拶」を作るのが目的。**

典型的な「AIっぽい挨拶」の避けるべき例:
- ❌ 「おはようございます！今日も素晴らしい一日になりますように♪」
- ❌ 「良い朝を！今日も頑張りましょう！」
- ❌ 「Good morning! 元気に1日を始めましょう」
- ❌ 絵文字の多用（☀️🌅☕🐦など）

## 実行手順

### ステップ0: ペルソナ情報読み込み（MANDATORY）

**ツイート生成前に必ず以下のファイルを読み込む:**

```
C:\Users\Tenormusica\persona-db\data\tone.json      # 口調・語尾・避けるべき表現
C:\Users\Tenormusica\persona-db\data\stances.json   # スタンス・価値観
C:\Users\Tenormusica\persona-db\data\interests.json # 興味の境界線
C:\Users\Tenormusica\persona-db\data\tools.json     # 使用ツール
C:\Users\Tenormusica\persona-db\data\knowledge.json # 知識レベル
```

**読み込んだ情報の活用:**
- `tone.json`: 語尾・口癖・避けるべき表現を適用
- `stances.json`: 朝の考え方・生活リズムの価値観を反映
- `interests.json`: 興味がある朝の活動（コーヒー、読書、運動等）
- `tools.json`: 朝に使うツールへの言及の正確性
- `knowledge.json`: 朝の習慣・生活リズムに関する知識レベル

**採用ツイート履歴の読み込み（MANDATORY）:**
```
C:\Users\Tenormusica\x-auto\skills\morning-greeting-tweet\ADOPTED_TWEETS.json
```

**履歴の活用:**
- 過去の採用ツイートと同じ構造を避ける
- 時系列経過に応じて口調を微調整（同じ日なら似たトーン、日が変われば少し変化）
- 同じ実データ例を連続して使わない

### ステップ0.5: 重複回避チェック（MANDATORY）

**🚨 CRITICAL - 前回と同じ形式を避ける（MANDATORY）:**

**採用ツイート履歴（ADOPTED_TWEETS.json）を読み込み、以下をチェック:**

1. **構造の重複を避ける**
   - 前回と同じ文構造を使わない
   - 「昨日、〜を調べてた。〜でした。本日もよろしくお願いします。」という形式を連続して使わない
   - 文長、文の数、接続詞を変化させる

2. **実データ例の重複を避ける**
   - 同じ実データ例を連続して使わない
   - 前回「例1-1」を使ったら、次は別の例を使う

3. **結果/感想の重複を避ける**
   - 前回と同じ結果/感想表現を使わない
   - 「腹落ちしました」→次は「道筋が見えました」など

4. **時系列による口調調整**
   - 同じ日に複数回生成する場合: トーンを少し合わせる
   - 日が変わったら: 口調を少し変化させる

**具体的な回避手順:**
1. ADOPTED_TWEETS.jsonを読み込む
2. 最新の採用ツイートを確認
3. 最新と同じ実データ例でないかチェック
4. 最新と同じ構造になっていないかチェック
5. 最新と同じ結果/感想を使っていないかチェック

### ステップ1: 挨拶のパターン選定

**🚨 実データに基づくパターン（Wantedly CEO Masaの実例分析）:**

| パターン | 内容 | 割合 |
|---------|------|------|
| 昨日の出来事 + 現状 + 締め | 昨日の具体的な活動→現在の状態→「本日もよろしく」 | 35% |
| シンプル挨拶 | 「おはよう」的な短い挨拶 | 25% |
| 天気＋気分 | 天候や朝の気分を添える | 15% |
| 予定言及 | 今日の予定を軽く触れる | 10% |
| 疑問形 | 今日どうするか、何するか | 8% |
| キャラ・ペルソナ系 | メタ視点やユーモアのある挨拶 | 5% |
| 独り言 | 寝起きの思考やぼやき | 2% |

### ステップ2: ツイート文生成

**🚨 CRITICAL - 人間らしさを出すためのルール:**

**最頻出パターン「昨日の出来事 + 現状 + 締め」の構造:**

```
おはようございます。[昨日の具体的な活動]。[現在の状態・感想]。
本日もよろしくお願いしまっす。
```

**🚨 CRITICAL - 実データの使用（作り話禁止）:**

「昨日の活動」は**必ず実データに基づく**こと。作り話はすぐにAI感が出る。

**実データソース:**
1. **REAL_DATA_EXAMPLES.md** - 過去の失敗事例・問題解決事例のテンプレート集
2. **Obsidian Vault** - 実際のトラブルシューティング記録
3. **タスクスケジューラー** - 将来的には現在進行中のタスクから引用

**実データの選定基準:**
- ✅ **型・失敗事例・問題解決プロセス** - 情報価値が高くコア情報を含まない
- ✅ **抽象化して記載** - 具体的なプロジェクト名、機密情報は省く
- ✅ **事実に基づく** - 実際に発生した問題と解決策のみ
- ❌ **コア情報** - 公開したくない情報、未公開プロダクトの詳細
- ❌ **作り話** - 「ブログ書いた」「コード書いた」等の抽象的すぎる活動

**実データの探し方（Obsidian Vault）:**
```
D:\antigravity_projects\VaultD\Projects\
  ├── 開発ナレッジ\Claude-Code\      # トラブルシューティング記録
  ├── 情報収集ツール\                # ツール検証・改善記録
  └── PC-Troubleshooting\            # 問題解決記録
```

**検索キーワード:**
- トラブルシューティング、問題解決、失敗、エラー対応
- バグ修正、不具合、改善、移行
- 検証、テスト、比較

**昨日の活動の例（実データベース）:**
- 自動化ツールで入力欄のテキストクリアが不完全な問題を直した
- 長文レスポンスの取得方法を改善した（Ctrl+Aで全選択コピー）
- OSダイアログ操作をやめてクリップボード方式に移行した
- 自動画像挿入の位置制御を改善した
- トラブルシューティングドキュメントを整理した
- 新しいコードレビューツールの往復テストをした

**🚨 CRITICAL - 結果/感想の表現（MANDATORY）:**

**絶対に定型化しないこと:**
- ❌ 「よかったです」「すっきりしました」を毎回使わない
- ❌ バリエーションリストから選ばない
- ✅ 常に形を崩す
- ✅ フォーマット化しないことを最も意識する

**自然な表現の例（あくまで例、これを使うわけではない）:**
- 腹落ちしました / 着地しました / 方針は合ってそうです / 道筋が見えました
- 手応えありました / これでいけそうです / クリアです / 一歩前進です
- 筋が良かったです / 想定通りでした / パターンが見えました
- 勉強になりました / 知見が増えました / 経験値になりました
- ナンスですけど解決しました / 原因は特定できました / 構造が見えました

**重要: これらはあくまで例であり、毎回全く異なる表現で書くこと**

**締めの挨拶バリエーション:**
- 本日もよろしくお願いします
- 今日も1日よろしくお願いします
- よろしくお願いします

**その他のパターン例:**

**シンプル挨拶:**
- おはようございます
- おはよー
- おはよう

**天気＋気分:**
- おはよう。今日も寒いっすね
- おはよー。晴れてて良い朝です

**キャラ・ペルソナ系（稀）:**
- 「〜エンジニアです、おはようございます」的なメタ挨拶
- 軽い自虐やユーモアを混ぜる

**絶対に含めない要素:**
- ❌ 絵文字（絵文字は使わない）
- ❌ 「！！」「！！！」のような「！」の連投
- ❌ 「頑張ろう」「頑張ります」的なお願いCTR
- ❌ 「素晴らしい一日になりますように」的な詩的表現
- ❌ 英語混在（「Good morning!」等）
- ❌ 意識高い系の短文改行

**「！」の使用ルール:**
- 文の区切りで1つまでOK
- 連投は禁止
- 過度な感情表現は禁止

### ステップ2.5: Build in Public / AIニュースとの絡み（オプション）

**🚨 CRITICAL - ニュースとの絡みルール:**

**発火条件（すべて満たす必要あり）:**
- 20%の確率でランダム発火（毎回ではない）
- **24時間以内の非常に新しいニュースのみ**
- interests.jsonのhigh_interestトピックに関連するもの

**ニュースソースの確認（WebSearch前に必ず参照）:**
```
D:\antigravity_projects\VaultD\Projects\Monetization\Intelligence\AI_Frontier_Capabilities_Master.md
D:\antigravity_projects\VaultD\Projects\Monetization\Intelligence\AI_Knowledge_Tips_Master.md
```

**絡ませ方の例:**
```
おはようございます。昨日、[ニュースの内容]を見ました。興味深いっすね。
本日もよろしくお願いしまっす。
```

**絶対禁止事項:**
- ❌ 古いニュース（24時間以上前）との絡み
- ❌ interests.jsonのlow_interest/no_interestトピック
- ❌ ニュースの説明を長々とする（あくまで挨拶が主目的）
- ❌ 「最新のAI動向は〜」的な専門的な解説
- ❌ ニュースへの意見表明（挨拶ツイートでは不自然）

**ニュース絡みを使う判断基準:**
- 「へえ、そうなんだ」程度の軽い言及に留める
- ニュースを知った自分の反応を一言添える程度
- 挨拶の文脈で自然に出るかどうか

**ニュース絡みを使わないケース:**
- 24時間以内の大きなニュースがない
- ニュースがあっても挨拶の文脈で不自然
- ユーザーの興味関心と遠いトピック

### ステップ3: 品質チェック（既存ルールの適用）

**generate-tweetスキルの品質ルールを適用:**

- [ ] **敬語調の語尾** → 「おはようございます」はOK、「〜です」「〜ます」終わりは避ける
- [ ] **短文改行多用で「カッコつけてる」感が出ていないか** → 意識高い系NG
- [ ] **詩的・哲学的表現で終わっていないか** → 「今日という日」「人生という旅」等NG
- [ ] **絵文字の乱用** → 朝の挨拶では絵文字なし
- [ ] **「！」の連投** → 文の区切りで1つまで、連投は禁止
- [ ] **具体性の確認** → 抽象的表現より具体的なエピソードがあるか
- [ ] **ニュース絡みの場合** → 24時間以内の新しいニュースか、軽い言及に留まっているか

### ステップ3.5: レビューサブエージェント実行（MANDATORY）

**🚨 CRITICAL - ツイート出力前に必ずレビューを実行:**

```
Task(subagent_type="general-purpose",
     prompt="以下のスキルファイルを読んで、その指示に従って朝ツイートをレビューしてください:
             C:\\Users\\Tenormusica\\x-auto\\skills\\morning-greeting-tweet\\REVIEW_PROMPT.md

             レビュー対象ツイート:
             [TWEET_TEXT]

             使用した実データ例: [SOURCE_EXAMPLE]

             PASS/REJECT判定を出してください。")
```

**レビュー結果による分岐:**
- **PASS 判定** → ステップ4へ進む（ツイート出力）
- **REJECT 判定** → 修正案に従って再生成、または別の実データ例を使用

### ステップ4: 出力

**生成したツイート文を出力する。**

**🚨 採用時の記録ルール（MANDATORY）:**

ツイートが採用された場合、以下の手順でADOPTED_TWEETS.jsonを更新する:

1. **現在のADOPTED_TWEETS.jsonを読み込む**

2. **新しいエントリを追加:**
```json
{
  "timestamp": "ISO8601形式",
  "tweet_text": "実際に採用されたツイート文",
  "source_example": "使用した実データのID（例1-1など）",
  "date": "YYYY-MM-DD"
}
```

3. **JSONファイルを更新**

**重要:**
- ツイート文の採用が確定した時点で記録すること
- 投稿前に記録しても、未採用の場合は削除してOK

---

## 補足: PERSONA.mdについて

**注意:** persona-dbリポジトリ内にPERSONA.mdファイルは存在しない。
以下のJSONファイル群を組み合わせてペルソナを再現すること:
- tone.json（口調・語尾・避けるべき表現）
- stances.json（スタンス・価値観）
- interests.json（興味の境界線）
- tools.json（使用ツール）
- knowledge.json（知識レベル）
- experiences.json（体験談）

必要に応じてこれらのファイルを読み込み、ペルソナを統合的に反映すること。
